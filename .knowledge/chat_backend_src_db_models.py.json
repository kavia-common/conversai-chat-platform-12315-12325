{"is_source_file": true, "format": "Python", "description": "This file defines SQLAlchemy ORM models for the chat backend, including User, Conversation, and Message classes, along with a TimestampMixin for timestamp management and relationship configurations.", "external_files": ["sqlalchemy", "datetime", "typing"], "external_methods": ["func.now()"], "published": ["Base", "TimestampMixin", "User", "Conversation", "Message"], "classes": [{"name": "Base", "description": "Declarative base class for SQLAlchemy models."}, {"name": "TimestampMixin", "description": "Mixin providing created_at and updated_at timestamp columns."}, {"name": "User", "description": "Represents a user with email, password hash, display name, and relationships to conversations."}, {"name": "Conversation", "description": "Represents a conversation owned by a user with related messages."}, {"name": "Message", "description": "Represents a message within a conversation, including role, content, and timestamp."}], "methods": [], "calls": ["func.now()"], "search-terms": ["SQLAlchemy ORM models", "chat backend models", "User model", "Conversation model", "Message model", "Timestamp mixin", "relationship configuration"], "state": 2, "file_id": 6, "knowledge_revision": 21, "git_revision": "14a9672425f78d2e63c72c601f31f712950682d3", "revision_history": [{"13": ""}, {"21": "14a9672425f78d2e63c72c601f31f712950682d3"}], "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^class Base(DeclarativeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Conversation", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^class Conversation(TimestampMixin, Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^class Message(TimestampMixin, Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TimestampMixin", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^class TimestampMixin:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^class User(TimestampMixin, Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"conversations\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"messages\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    content: Mapped[str] = mapped_column(Text, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "conversation", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    conversation: Mapped[Conversation] = relationship(back_populates=\"messages\")$/", "language": "Python", "typeref": "typename:Mapped[Conversation]", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "conversation_id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    conversation_id: Mapped[int] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "conversations", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    conversations: Mapped[List[\"Conversation\"]] = relationship($/", "language": "Python", "typeref": "typename:Mapped[List[\"Conversation\"]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}, {"_type": "tag", "name": "display_name", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    display_name: Mapped[Optional[str]] = mapped_column(String(255), nullable=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    email: Mapped[str] = mapped_column(String(255), unique=True, index=True, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, index=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    messages: Mapped[List[\"Message\"]] = relationship($/", "language": "Python", "typeref": "typename:Mapped[List[\"Message\"]]", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "owner", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    owner: Mapped[User] = relationship(back_populates=\"conversations\")$/", "language": "Python", "typeref": "typename:Mapped[User]", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "owner_id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    owner_id: Mapped[int] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "password_hash", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    password_hash: Mapped[str] = mapped_column(String(255), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    role: Mapped[str] = mapped_column(String(32), nullable=False, default=\"user\")  # user\\/assis/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Message", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    title: Mapped[Optional[str]] = mapped_column(String(255), nullable=True)$/", "language": "Python", "typeref": "typename:Mapped[Optional[str]]", "kind": "variable", "scope": "Conversation", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    updated_at: Mapped[datetime] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "TimestampMixin", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/conversai-chat-platform-12315-12325/chat_backend/src/db/models.py", "pattern": "/^    user_id: Mapped[int] = mapped_column($/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Message", "scopeKind": "class"}], "hash": "e30f5521dc2c22c4bd070cd97f2aae03", "format-version": 4, "code-base-name": "chat_backend", "filename": "chat_backend/src/db/models.py", "fields": [{"name": "__tablename__ = \"conversations\"", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"messages\"", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] content", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Conversation] conversation", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] conversation_id", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[List[\"Conversation\"]] conversations", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] created_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] display_name", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] email", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] id", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[List[\"Message\"]] messages", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[User] owner", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] owner_id", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] password_hash", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] role", "scope": "Message", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[Optional[str]] title", "scope": "Conversation", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] updated_at", "scope": "TimestampMixin", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] user_id", "scope": "Message", "scopeKind": "class", "description": "unavailable"}]}